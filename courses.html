<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฌููุน ุงูููุฑุณุงุช - ููุตุฉ ุงูุชุนููู</title>
    <!-- ููุณ ุงูู styles ูู index.html -->
</head>
<body>
    <!-- ููุณ ุงูู navbar ูู index.html -->

    <div class="container-fluid mt-5">
        <div class="row">
            <!-- Sidebar -->
            <aside class="col-md-3 sidebar">
                <div class="user-info">
                    <img src="/images/avatar.png" alt="ุตูุฑุฉ ุงููุณุชุฎุฏู">
                    <h5 id="userName">ุงุณู ุงููุณุชุฎุฏู</h5>
                    <div class="wallet">
                        <span>ุฑุตูุฏู</span>
                        <span id="userBalance">0 ุฌ.ู</span>
                    </div>
                </div>
                
                <ul class="nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="/">ุงูุฑุฆูุณูุฉ</a></li>
                    <li class="nav-item"><a class="nav-link active" href="/courses">ุงูููุฑุณุงุช</a></li>
                    <li class="nav-item"><a class="nav-link" href="/dashboard">ูุญุงุถุฑุงุชู</a></li>
                    <li class="nav-item"><a class="nav-link" href="/profile">ุงูููู ุงูุดุฎุตู</a></li>
                    <li class="nav-item"><a class="nav-link" href="/progress">ุงูุชูุฏู</a></li>
                    <li class="nav-item"><a class="nav-link" href="/certificates">ุงูุดูุงุฏุงุช</a></li>
                    <li class="nav-item"><a class="nav-link" href="/support">ุงูุฏุนู</a></li>
                </ul>
            </aside>

            <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
            <main class="col-md-9">
                <div class="container py-4">
                    <h2 class="section-title">๐ ุฌููุน ุงูููุฑุณุงุช</h2>
                    
                    <!-- ููุชุฑุฉ ูุชูุฏูุฉ -->
                    <div class="row mb-4">
                        <div class="col-md-4">
                            <input type="text" class="form-control" id="searchAllCourses" placeholder="ุงุจุญุซ ูู ุงูููุฑุณุงุช...">
                        </div>
                        <div class="col-md-2">
                            <select class="form-select" id="categoryFilterAll">
                                <option value="">ุฌููุน ุงูุชุตูููุงุช</option>
                                <option value="programming">ุจุฑูุฌุฉ</option>
                                <option value="design">ุชุตููู</option>
                                <option value="marketing">ุชุณููู</option>
                                <option value="language">ูุบุงุช</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <select class="form-select" id="levelFilterAll">
                                <option value="">ุฌููุน ุงููุณุชููุงุช</option>
                                <option value="beginner">ูุจุชุฏุฆ</option>
                                <option value="intermediate">ูุชูุณุท</option>
                                <option value="advanced">ูุชูุฏู</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <select class="form-select" id="priceFilter">
                                <option value="">ุฌููุน ุงูุฃุณุนุงุฑ</option>
                                <option value="free">ูุฌุงูู ููุท</option>
                                <option value="paid">ูุฏููุน ููุท</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <select class="form-select" id="sortFilter">
                                <option value="newest">ุงูุฃุญุฏุซ</option>
                                <option value="popular">ุงูุฃูุซุฑ ุดุนุจูุฉ</option>
                                <option value="rating">ุงูุฃุนูู ุชููููุงู</option>
                            </select>
                        </div>
                    </div>

                    <div class="row" id="allCoursesContainer">
                        <!-- ุณูุชู ุชุนุจุฆุฉ ุงูููุฑุณุงุช ููุง -->
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // ุฏูุงู ุฌูุจ ูุนุฑุถ ุงูููุฑุณุงุช
        async function loadAllCourses(filters = {}) {
            try {
                const params = new URLSearchParams();
                Object.keys(filters).forEach(key => {
                    if (filters[key]) params.append(key, filters[key]);
                });

                const res = await fetch(`/api/courses/all?${params}`);
                const courses = await res.json();
                renderAllCourses(courses);
            } catch (error) {
                console.error('Error loading courses:', error);
                renderDefaultCourses();
            }
        }

        function renderAllCourses(courses) {
            const container = document.getElementById('allCoursesContainer');
            // ุงุณุชุฎุฏุงู ููุณ ุฏุงูุฉ renderCourses ูู index.html ูุน ุชุนุฏููุงุช ุจุณูุทุฉ
        }

        // ุฅุนุฏุงุฏ ุงูููุงุชุฑ
        document.addEventListener('DOMContentLoaded', function() {
            loadAllCourses();
            
            const filters = {};
            const filterElements = [
                'searchAllCourses', 'categoryFilterAll', 'levelFilterAll', 
                'priceFilter', 'sortFilter'
            ];

            filterElements.forEach(elementId => {
                document.getElementById(elementId).addEventListener('change', function() {
                    filters[elementId] = this.value;
                    loadAllCourses(filters);
                });
            });
        });
    </script>
</body>
</html>
